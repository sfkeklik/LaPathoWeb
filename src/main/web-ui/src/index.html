<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>LaPatho</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!--  <link rel="icon" href="assets/favicon.svg" type="image/svg+xml">-->
  <link rel="icon" href="assets/favicon.svg" type="image/svg+xml" style="filter: hue-rotate(240deg) saturate(1.5) brightness(0.8);">
<!--  <link rel="icon" href="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3e%3cpath fill='%234f46e5' d='YOUR_SVG_PATH_HERE'/%3e%3c/svg%3e" type="image/svg+xml">-->
  <!-- Annotorious CSS -->
  <link rel="stylesheet" href="assets/css/annotorious.min.css">
  <!-- Removed explicit script tags for OpenSeadragon and Annotorious; these are loaded via angular.json scripts -->
</head>
<body>
  <app-root></app-root>

  <!-- Global Annotorious initialization script -->
  <script>
    // Ensure Annotorious is available globally after page load
    window.addEventListener('DOMContentLoaded', function() {
      console.log('üîç Checking Annotorious availability...');
      console.log('OpenSeadragon:', typeof window.OpenSeadragon);

      // Check what's available in window
      const annoKeys = Object.keys(window).filter(k => k.toLowerCase().includes('anno'));
      console.log('Anno-related globals:', annoKeys);

      // Try to find and properly expose Annotorious
      if (typeof window.Annotorious !== 'undefined') {
        console.log('‚úÖ window.Annotorious already available');
      } else if (typeof window.AnnotoriousOSD !== 'undefined') {
        window.Annotorious = window.AnnotoriousOSD;
        console.log('‚úÖ window.AnnotoriousOSD found and mapped to Annotorious');
      } else if (typeof window.OpenSeadragonAnnotorious !== 'undefined') {
        window.Annotorious = window.OpenSeadragonAnnotorious;
        console.log('‚úÖ window.OpenSeadragonAnnotorious found and mapped to Annotorious');
      } else if (window.OpenSeadragon && window.OpenSeadragon.Annotorious) {
        window.Annotorious = window.OpenSeadragon.Annotorious;
        console.log('‚úÖ OpenSeadragon.Annotorious found and mapped');
      } else {
        // Try to check if it's exported differently
        console.log('Available window properties:', Object.keys(window).slice(0, 20));
        console.error('‚ùå Annotorious not found in any expected location');
      }
    });
  </script>
</body>
</html>
